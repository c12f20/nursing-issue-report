<script type="text/ng-template" id="group-template.html">
  <div class="panel-heading">
    <h4 class="panel-title">
      <a href tabindex="0" class="accordion-toggle" style="text-decoration:none;" ng-click="toggleOpen()" uib-accordion-transclude="heading">
        <span uib-accordion-header ng-class="{'text-muted': isDisabled}">
          {{heading}}
        </span>
      </a>
    </h4>
  </div>
  <div class="panel-collapse collapse" uib-collapse="!isOpen">
    <div class="panel-body" ng-transclude></div>
  </div>
</script>
<div class="config">
  <h1 class="page-header">{{'TITLE_CONFIG' | translate}}</h1>
  <uib-accordion close-others="true">
    <!-- Department Panel -->
    <div uib-accordion-group class="panel panel-default" is-open="status.open" template-url="group-template.html">
      <uib-accordion-heading>
        {{'CAPTION_DEPARTMENT_LIST' | translate}} <i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': status.open, 'glyphicon-chevron-right': !status.open}"></i>
      </uib-accordion-heading>
      <!-- No Data View -->
      <div ng-if="!department_list || department_list.length == 0">
        <div class="message">
          {{'MSG_NO_DEPARTMENT_DATA' | translate}}
          <button class="btn btn-primary btn-add" ng-click="onAddDepartment()">{{'CAPTION_ADD_DEPARTMENT' | translate}}</button>
        </div>
      </div>
      <!-- Data View -->
      <div ng-if="department_list && department_list.length > 0">
        <p>
          <button class="btn btn-primary" ng-click="onAddDepartment()">{{'CAPTION_ADD_DEPARTMENT' | translate}}</button>
          <button class="btn btn-danger">{{'CAPTION_DELETE_SELECTED' | translate}}</button>
        </p>
        <table class="table table-striped table-bordered">
          <thead>
            <tr>
              <th width="5%" class="hcenter"><input type="checkbox"></th>
              <th width="%" class="hcenter">{{'CAPTION_INDEX' | translate}}</th>
              <th width="75%">{{'CAPTION_DEPARTMENT_NAME' | translate}}</th>
              <th width="10%" class="hcenter">{{'CAPTION_ACTION' | translate}}</th>
            </tr>
          </thead>
          <tbody>
            <tr ng-repeat="department in department_list">
              <td class="hcenter"><input type="checkbox"></th>
              <td class="hcenter">{{$index}}</td>
              <td>{{department.name}}</td>
              <td class="hcenter">
                <button class="btn btn-danger">{{'CAPTION_DELETE' | translate}}</button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </uib-accordion>
</div>
